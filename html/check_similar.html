<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Check Product Recommendations</title>
</head>
<body>
    <h1>Check Recommendations for Product</h1>

    <label for="productIdInput">Product ID:</label>
    <input type="number" id="productIdInput" value="101" min="1" />
    <button id="fetchBtn">Get Recommendations</button>

    <h2>Result:</h2>
    <pre id="result" style="background:#eee; padding:10px; max-height:500px; overflow:auto;"></pre>

    <script>
        const fetchBtn = document.getElementById('fetchBtn');
        const resultEl = document.getElementById('result');
        const productIdInput = document.getElementById('productIdInput');

        fetchBtn.addEventListener('click', () => {
            const productId = productIdInput.value;
            if (!productId) {
                alert('Please enter a valid product ID');
                return;
            }

            // Adjust URL if your Flask is running somewhere else or port is different
            const url = `http://127.0.0.1:5000/recommendations/${productId}`;

            fetch(url)
                .then(response => {
                    if (!response.ok) {
                        return response.json().then(err => { throw err; });
                    }
                    return response.json();
                })
                .then(data => {
                    resultEl.textContent = JSON.stringify(data, null, 2);
                })
                .catch(err => {
                    resultEl.textContent = `Error: ${err.error || err.message || 'Unknown error'}`;
                });
        });
    </script>
</body>
</html>
